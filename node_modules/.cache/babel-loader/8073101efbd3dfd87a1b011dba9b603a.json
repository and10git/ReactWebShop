{"ast":null,"code":"import _defineProperty from\"C:/Proyectos/ReactWebShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Proyectos/ReactWebShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Proyectos/ReactWebShop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useContext}from\"react\";import{useHistory}from\"react-router-dom\";import{Card,Form,Alert}from'react-bootstrap';import firebase from\"../Config/firebase\";import ButtonWithLoading from\"../Components/Forms/ButtonWithLoading\";import FormGroup from\"../Components/Forms/FormGroup\";import NetConext from\"../Context/NetContext\";function Login(){var context=useContext(NetConext);var _useState=useState({email:'',password:''}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),spinner=_useState4[0],setSpinner=_useState4[1];var history=useHistory();var handleSubmit=function handleSubmit(e){e.preventDefault();setSpinner(true);var email=form.email;var password=form.password;firebase.auth.signInWithEmailAndPassword(email,password).then(function(data){console.log(\"Usuario logueado\",data);setSpinner(false);context.logInUser();//setAlert({variant:\"success\",text:\"Bienvenido/a\"})\nhistory.push(\"/\");}).catch(function(error){console.log(\"Error\",error);setSpinner(false);//setAlert({variant:\"danger\",text:\"Ha ocurrido un error\"})\n});};var handleChange=function handleChange(e){var target=e.target;var value=target.value;var name=target.name;setForm(_objectSpread(_objectSpread({},form),{},_defineProperty({},name,value)));};return/*#__PURE__*/_jsx(Card,{style:{width:'30%'},className:\"mt-4 ml-2\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(FormGroup,{label:\"Email\",type:\"email\",placeholder:\"Ingrese su email\",name:\"email\",value:form.email,change:handleChange}),/*#__PURE__*/_jsx(FormGroup,{label:\"Contrase\\xF1a\",type:\"password\",placeholder:\"Ingrese su contrase\\xF1a\",name:\"password\",value:form.password,change:handleChange}),/*#__PURE__*/_jsx(ButtonWithLoading,{text:\"Ingresar\",loading:spinner})]})})});}export default Login;","map":{"version":3,"sources":["C:/Proyectos/ReactWebShop/src/Pages/Login.jsx"],"names":["React","useState","useContext","useHistory","Card","Form","Alert","firebase","ButtonWithLoading","FormGroup","NetConext","Login","context","email","password","form","setForm","spinner","setSpinner","history","handleSubmit","e","preventDefault","auth","signInWithEmailAndPassword","then","data","console","log","logInUser","push","catch","error","handleChange","target","value","name","width"],"mappings":"ygBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,UAA1B,KAA4C,OAA5C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,IAAT,CAAeC,IAAf,CAAqBC,KAArB,KAAkC,iBAAlC,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,iBAAP,KAA8B,uCAA9B,CACA,MAAOC,CAAAA,SAAP,KAAsB,+BAAtB,CACA,MAAOC,CAAAA,SAAP,KAAsB,uBAAtB,CAEA,QAASC,CAAAA,KAAT,EAAiB,CACb,GAAMC,CAAAA,OAAO,CAAGV,UAAU,CAACQ,SAAD,CAA1B,CADa,cAEWT,QAAQ,CAAC,CAAEY,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAAD,CAFnB,wCAENC,IAFM,eAEAC,OAFA,8BAGiBf,QAAQ,CAAC,KAAD,CAHzB,yCAGNgB,OAHM,eAGGC,UAHH,eAIb,GAAMC,CAAAA,OAAO,CAAGhB,UAAU,EAA1B,CAEA,GAAMiB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACAJ,UAAU,CAAC,IAAD,CAAV,CACA,GAAIL,CAAAA,KAAK,CAAGE,IAAI,CAACF,KAAjB,CACA,GAAIC,CAAAA,QAAQ,CAAGC,IAAI,CAACD,QAApB,CAEAP,QAAQ,CAACgB,IAAT,CAAcC,0BAAd,CAAyCX,KAAzC,CAAgDC,QAAhD,EACKW,IADL,CACU,SAACC,IAAD,CAAU,CACZC,OAAO,CAACC,GAAR,CAAY,kBAAZ,CAAgCF,IAAhC,EACAR,UAAU,CAAC,KAAD,CAAV,CACAN,OAAO,CAACiB,SAAR,GACA;AACAV,OAAO,CAACW,IAAR,CAAa,GAAb,EACH,CAPL,EAQKC,KARL,CAQW,SAACC,KAAD,CAAW,CACdL,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBI,KAArB,EACAd,UAAU,CAAC,KAAD,CAAV,CACA;AACH,CAZL,EAcH,CApBD,CAqBA,GAAMe,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACZ,CAAD,CAAO,CAExB,GAAMa,CAAAA,MAAM,CAAGb,CAAC,CAACa,MAAjB,CACA,GAAMC,CAAAA,KAAK,CAAGD,MAAM,CAACC,KAArB,CACA,GAAMC,CAAAA,IAAI,CAAGF,MAAM,CAACE,IAApB,CAGApB,OAAO,gCACAD,IADA,wBAEFqB,IAFE,CAEKD,KAFL,GAAP,CAKH,CAZD,CAaA,mBACI,KAAC,IAAD,EAAM,KAAK,CAAE,CAAEE,KAAK,CAAE,KAAT,CAAb,CAA8B,SAAS,CAAC,WAAxC,uBACI,KAAC,IAAD,CAAM,IAAN,wBACI,MAAC,IAAD,EAAM,QAAQ,CAAEjB,YAAhB,wBACI,KAAC,SAAD,EAAW,KAAK,CAAC,OAAjB,CAAyB,IAAI,CAAC,OAA9B,CAAsC,WAAW,CAAC,kBAAlD,CAAqE,IAAI,CAAC,OAA1E,CAAkF,KAAK,CAAEL,IAAI,CAACF,KAA9F,CAAqG,MAAM,CAAEoB,YAA7G,EADJ,cAEI,KAAC,SAAD,EAAW,KAAK,CAAC,eAAjB,CAA8B,IAAI,CAAC,UAAnC,CAA8C,WAAW,CAAC,0BAA1D,CAAkF,IAAI,CAAC,UAAvF,CAAkG,KAAK,CAAElB,IAAI,CAACD,QAA9G,CAAwH,MAAM,CAAEmB,YAAhI,EAFJ,cAGI,KAAC,iBAAD,EAAmB,IAAI,CAAC,UAAxB,CAAmC,OAAO,CAAEhB,OAA5C,EAHJ,GADJ,EADJ,EADJ,CAcH,CAED,cAAeN,CAAAA,KAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Card, Form, Alert } from 'react-bootstrap';\nimport firebase from \"../Config/firebase\"\nimport ButtonWithLoading from \"../Components/Forms/ButtonWithLoading\"\nimport FormGroup from \"../Components/Forms/FormGroup\"\nimport NetConext from \"../Context/NetContext\"\n\nfunction Login() {\n    const context = useContext(NetConext);\n    const [form, setForm] = useState({ email: '', password: '' });\n    const [spinner, setSpinner] = useState(false);\n    const history = useHistory();\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setSpinner(true);\n        let email = form.email;\n        let password = form.password;\n        \n        firebase.auth.signInWithEmailAndPassword(email, password)\n            .then((data) => {\n                console.log(\"Usuario logueado\", data)\n                setSpinner(false);\n                context.logInUser();\n                //setAlert({variant:\"success\",text:\"Bienvenido/a\"})\n                history.push(\"/\")\n            })\n            .catch((error) => {\n                console.log(\"Error\", error)\n                setSpinner(false);\n                //setAlert({variant:\"danger\",text:\"Ha ocurrido un error\"})\n            })\n\n    }\n    const handleChange = (e) => {\n\n        const target = e.target;\n        const value = target.value\n        const name = target.name;\n\n\n        setForm({\n            ...form,\n            [name]: value\n        });\n\n    }\n    return (\n        <Card style={{ width: '30%'}} className=\"mt-4 ml-2\">\n            <Card.Body>\n                <Form onSubmit={handleSubmit}>\n                    <FormGroup label=\"Email\" type=\"email\" placeholder=\"Ingrese su email\" name=\"email\" value={form.email} change={handleChange} />\n                    <FormGroup label=\"Contraseña\" type=\"password\" placeholder=\"Ingrese su contraseña\" name=\"password\" value={form.password} change={handleChange} />\n                    <ButtonWithLoading text=\"Ingresar\" loading={spinner} />\n                </Form>\n\n            </Card.Body>\n        </Card>\n\n    )\n\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}